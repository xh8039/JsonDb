# 查询数据

## 查询单个数据

查询单个数据使用find方法：

```php
// table方法必须指定完整的数据表名
Db::table('think_user')->where('id', 1)->find();
// 如果设置了数据表前缀（prefix）参数的话 也可以使用
Db::name('user')->where('id', 1)->find();
```

> 即使满足条件的数据有多个，`find` 查询也只会返回一条数据。你可以使用 `order` 排序来决定返回某一条数据。
> `find` 方法查询结果不存在，返回 `null` ，否则返回结果数组

## 查询数据集

查询多个数据（数据集）使用 `select` 方法：

```php
$list = Db::table('think_user')->where('status', 1)->select();

foreach ($list as $user) {
    echo $user['name'];
}
```

如果设置了数据表前缀参数的话，可以使用

```php
Db::name('user')->where('id', 1)->find();
Db::name('user')->where('status', 1)->select();
```

> 如果你的数据表没有设置表前缀的话，那么 `name` 和 `table` 方法效果一致。

示例只是使用了简单的where方法，其实在find和select方法之前可以使用更多的链式操作（参考后面链式操作章节）方法以完成更多的查询条件。

## 值和列查询

查询某个字段的值可以用

```php
// 返回某个字段的值
Db::table('think_user')->where('id', 1)->value('name');
```

> `value` 方法查询结果不存在，返回 `null`

查询某一列的值可以用

```php
// 返回数组
Db::table('think_user')->where('status',1)->column('name');
// 指定id字段的值作为索引
Db::table('think_user')->where('status',1)->column('name', 'id');
```

如果要返回完整数据，并且添加一个索引值的话，可以使用

```php
// 指定id字段的值作为索引 返回所有数据
Db::table('think_user')->where('status',1)->column('*','id');
```

> `column`方法查询结果不存在，返回空数组

## 查询指定字段名 之前/之后 的数据

```php
// 查询指定字段名之前的数据
DB::name('table_name')->beforeKey('first')->select();
// 查询指定字段名之后的数据
DB::name('table_name')->afterKey('second')->select();
```
